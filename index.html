<!DOCTYPE html>
<html>
<head>
<title>Real Fire Detection Robot</title>
<style>
body {
    background: black;
    color: white;
    text-align: center;
    font-family: Arial;
}
video {
    width: 300px;
    border: 3px solid white;
}
h2 {
    margin-top: 15px;
}
</style>
</head>
<body>

<h1>ðŸ”¥ Fire Rescue Robot - Live Detection</h1>

<video id="camera" autoplay></video>
<canvas id="canvas" style="display:none;"></canvas>

<h2 id="status">Monitoring...</h2>

<audio id="alarm">
    <source src="https://www.soundjay.com/button/beep-07.wav">
</audio>

<script>

const video = document.getElementById('camera');
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const statusText = document.getElementById('status');
const alarm = document.getElementById('alarm');

navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
    video.srcObject = stream;
})
.catch(err => {
    alert("Camera access denied!");
});
function detectFire() {
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    ctx.drawImage(video, 0, 0);

    const frame = ctx.getImageData(0, 0, canvas.width, canvas.height);
    const data = frame.data;

    let redPixels = 0;

    for (let i = 0; i < data.length; i += 4) {
        let r = data[i];
        let g = data[i + 1];
        let b = data[i + 2];

        if (r > 200 && g < 100 && b < 100) {
            redPixels++;
        }
    }

    if (redPixels > 5000) {
        statusText.innerHTML = "ðŸ”¥ FIRE DETECTED!";
        document.body.style.backgroundColor = "#550000";
        alarm.play();
    } else {
        statusText.innerHTML = "âœ… Area Safe";
        document.body.style.backgroundColor = "black";
    }
}

setInterval(detectFire, 1000);

</script>

</body>
</html>
